<#include "./include/header.html">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div style="padding:10px;height:350px">
		姓名:<input type="text" name="name">
		<button id="button" type="button">restApi测试</button>
		<br><br>
		
		interface:soap
		<button id="jsonButton" type="button">soap测试</button>
		<br><br>
		
		interface:rest
		<button id="jsonButton2" type="button">rest测试</button>
		<br><br>
		
		job:quartz
		<button id="jsonButton3" type="button">quartz测试</button>
	</div>
	<div id="tips" style="font-size:30px;text-align: center">
	</div>
	<div id="content" style="font-size:30px;text-align: center">
	</div>
</body>
<script>

	//测试  restApi
	$("#button").click(function(){
		var data = JSON.stringify({"restApiName" :"meixl","restApiPass" :"meixl"});
		$.ajax({
			url:"http://192.168.10.27:8081/system/restapi/test?restApiName=meixl&restApiPass=meixl",
			//url:"http://192.168.10.27:8081/system/restapi/test",
			//contentType:'application/json',
			type:"Post",
			//data: data,
			dataType:"text",  
	        async:false,  
	        cache:false, 
			success:function(data){
				alert(data)
			},
			error:function(er){
				alert("error")
			}
		})
	})
	
	//测试 接口  soap
	$("#jsonButton").click(function(){
		$.ajax({
			url:"${base.contextPath}/sys/interface/testSoap",
			data:{},
			dataType:"json",
			type:"post",
			cache:false,
			success:function(data){
				$("#tips").text("Soap ok");
				var rows = data.rows;
				var text = "";
				for(var i in rows){
					text += "userName = "+ rows[i].userName+ ";";
				}
				$("#content").text(text);
			},
			error:function(er){
				alert("error")
			}
		})
	})
	
	//测试 接口  rest
	$("#jsonButton2").click(function(){
		$.ajax({
			url:"${base.contextPath}/sys/interface/testRest",
			data:{},
			dataType:"json",
			type:"post",
			cache:false,
			success:function(data){
				$("#tips").text("Rest ok");
				var rows = data.rows;
				var text = "";
				for(var i in rows){
					text += "userName = "+ rows[i].userName+ ", phone = " + rows[i].phone +";";
				}
				$("#content").text(text);
			},
			error:function(er){
				alert("error")
			}
		})
	})
	
	// 测试  定时任务job
	$("#jsonButton3").click(function(){
		$.ajax({
			url:"${base.contextPath}/quartz/create/test",
			data:{},
			dataType:"json",
			type:"post",
			cache:false,
			success:function(data){
				$("#tips").text(data.message);
			},
			error:function(er){
				alert("error")
			}
		})
	})
</script>
</html>